# 1 web端

## 1.1接口说明

- 接口基准地址：`127.0.0.1:4000`
- 认证统一使用 Token 认证
- 需要授权的 API ，必须在请求头中使用 `Authorization` 字段提供 `token` 令牌
- 数据返回格式统一使用 JSON

## 1.2通用返回状态说明

| *状态码* | *含义*                | *说明*                                              |
| -------- | --------------------- | --------------------------------------------------- |
| 200      | OK                    | 请求成功                                            |
| 201      | CREATED               | 创建成功                                            |
| 204      | DELETED               | 删除成功                                            |
| 400      | BAD REQUEST           | 请求的地址不存在或者包含不支持的参数                |
| 401      | UNAUTHORIZED          | 未授权                                              |
| 403      | FORBIDDEN             | 被禁止访问                                          |
| 404      | NOT FOUND             | 请求的资源不存在                                    |
| 422      | Unprocesable entity   | [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误 |
| 500      | INTERNAL SERVER ERROR | 内部错误                                            |

## 1.3 获取验证码

- 请求路径：/user/verify

- 请求方法：put

- 请求参数：

  | 参数名 | 参数说明 | 备注 |
  | ------ | -------- | ---- |
  | phone  | 手机     |      |

- 响应参数：

- 响应数据：

  ```json
  {
      "data": {},
      "meta": {
          "msg": "已发送",
          "status": 200
      }
  }
  ```

## 1.4 登录

- 请求路径：/user/login

- 请求方法：post

- 请求参数：

  | 参数名   | 参数说明 | 备注 |
  | -------- | -------- | ---- |
  | phone    | 手机     |      |
  | password | 密码     |      |

- 响应参数：

- 响应数据：

  ```json
  {
      "data": {
          "id": 1,     // 用户id
          "user_image": null,		// 头像
          "user_name": null,		// 昵称
          "phone": 123,			// 电话
          "creat_time": 1622296706609,		// 创建时间
          "sex": null,		// 0：男，1：女，2：未设置
          "region": null,			// 地区
          "login_information": 1622296706609,	// 上次登录时间
          "signature": null,			// 签名
          "token": 			"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidGltZSI6MTYyMjI5ODM4Mjg3NiwiaWF0IjoxNjIyMjk4MzgyfQ.BY4N7-h-6qwdqNsQOmaQcFjjEHkt1cFKX3gaTrvm7Rs"    // token
      },
      "meta": {
          "msg": "请完善个人信息",
          "status": 100
      }
  }
  ```

## 1.5 注册

- 请求路径：/user/sign

- 请求方法：post

- 请求参数：

  | 参数名       | 参数说明 | 备注 |
  | ------------ | -------- | ---- |
  | phone        | 手机     |      |
  | verification | 验证码   |      |
  | password     | 密码     |      |

- 响应参数：

- 响应数据：

  ```json
  {
      "data": {
          "id": 9   // 用户id
      },
      "meta": {
          "msg": "注册成功",
          "status": 201
      }
  }
  ```

  